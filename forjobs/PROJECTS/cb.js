let inp;document.body.onload=initializeTheme,document.body.onload=()=>{inp=document.querySelector("#cbi"),inp.focus(),inp.oninput=e=>{e.target.style.height="auto",e.target.style.height=`${e.target.scrollHeight}px`}};const ld=document.querySelector(".lb"),ht=document.querySelector("html"),sb=document.querySelector(".sb"),sv=document.querySelector(".sbs"),hb=document.querySelector("#sb-btn"),prj=document.querySelector(".prj"),pd2=document.querySelector(".pd2"),ema=document.querySelector("#ema"),cs=document.querySelector("#cs"),f=document.querySelector(".cbf"),sub=document.querySelector("#sub"),ch=document.querySelector(".cbh"),cd=document.querySelector(".cbd");function two(){"true"===ld.getAttribute("aria-checked")?(localStorage.setItem("dark","off"),ld.setAttribute("aria-checked","false"),ht.removeAttribute("data-theme"),ld.textContent="dark ðŸŒ™",ht.className="bl"):(localStorage.setItem("dark","on"),ld.setAttribute("aria-checked","true"),ht.setAttribute("data-theme","dark"),ld.textContent="light â˜€ï¸",ht.className="bd")}function initializeTheme(){"on"===localStorage.getItem("dark")?(ht.setAttribute("data-theme","dark"),ht.className="bd",ld.textContent="light â˜€ï¸",ld.setAttribute("aria-checked","true")):(ht.removeAttribute("data-theme"),ht.className="bl",ld.textContent="dark ðŸŒ™",ld.setAttribute("aria-checked","false"))}function toggleDropdown(e,t,o){"true"===e.getAttribute("aria-expanded")?(t.classList.remove(o),e.setAttribute("aria-expanded","false")):(t.classList.add(o),e.setAttribute("aria-expanded","true"))}ld.onclick=two,hb.onclick=()=>{toggleDropdown(hb,sb,"sbb")},pd2.onclick=()=>{toggleDropdown(pd2,prj,"uls")},ema.onclick=()=>{ema.select(),ema.setSelectionRange(0,99999),navigator.clipboard.writeText(ema.value),alert("Copied the text: "+ema.value)},document.addEventListener("keydown",e=>{"Escape"===e.key&&sb.classList.contains("sbb")&&toggleDropdown(hb,sb,"sbb"),"Escape"===e.key&&prj.classList.contains("uls")&&toggleDropdown(pd2,prj,"uls")}),document.addEventListener("click",e=>{!sb.classList.contains("sbb")||sb.contains(e.target)||hb.contains(e.target)||toggleDropdown(hb,sb,"sbb"),!prj.classList.contains("uls")||prj.contains(e.target)||pd2.contains(e.target)||toggleDropdown(pd2,prj,"uls")});const nextPageLinks=document.querySelectorAll('a[href]:not([href^="#"]):not([href^="mailto:"])');function reply(e){let t=document.createElement("div");return t.className=e,t}nextPageLinks.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const o=e.href,n=t.clientX,r=t.clientY;document.documentElement.style.setProperty("--x",`${n}px`),document.documentElement.style.setProperty("--y",`${r}px`),document.startViewTransition?document.startViewTransition(()=>{setTimeout(()=>{window.location.href=o},50)}).finished.finally(()=>{document.documentElement.style.removeProperty("--x"),document.documentElement.style.removeProperty("--y")}):window.location.href=o})}),sub.addEventListener("click",async e=>{const t=inp.value.trim();if(!t)return;let o=reply("chat user");o.textContent+=inp.value.trim(),ch.append(o),ch.scrollTop=ch.scrollHeight,inp.value="",inp.style.height="auto",sub.disabled=!0;try{const e=await fetch("http://localhost:3004/gem",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatbot:t})});if(!e.ok)throw new Error("failed to connect to the server");const o=e.body.getReader(),n=new TextDecoder;let r=reply("chat server");for(ch.append(r);;){const{done:e,value:t}=await o.read();if(e)break;const c=n.decode(t,{stream:!0});r.textContent+=c}ch.scrollTop=ch.scrollHeight}catch(e){alert(e.message)}finally{sub.disabled=!1,inp.focus()}});